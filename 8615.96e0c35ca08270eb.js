"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8615],{8615:(_,C,c)=>{c.r(C),c.d(C,{CategoryManagerPageModule:()=>P});var f=c(8434),s=c(4341),o=c(2910),p=c(33),u=c(467),e=c(1360),y=c(5079);function M(t,g){if(1&t){const r=e.RV6();e.j41(0,"ion-item")(1,"ion-label"),e.EFF(2),e.k0s(),e.j41(3,"ion-buttons",4)(4,"ion-button",5),e.bIt("click",function(){const a=e.eBV(r).index,i=e.XpG();return e.Njj(i.editarCategoria(a))}),e.nrm(5,"ion-icon",6),e.k0s(),e.j41(6,"ion-button",5),e.bIt("click",function(){const a=e.eBV(r).index,i=e.XpG();return e.Njj(i.eliminarCategoria(a))}),e.nrm(7,"ion-icon",7),e.k0s()()()}if(2&t){const r=g.$implicit;e.R7$(2),e.JRh(r.nombre)}}const h=[{path:"",component:(()=>{var t;class g{constructor(n,a){this.alertController=n,this.notasService=a,this.categorias=[],this.nuevaCategoria=""}ionViewWillEnter(){this.categorias=this.notasService.getCategorias()}crearCategoria(){let n=this.nuevaCategoria.trim();n||(n="Nueva Categor\xeda"),this.categorias.push({nombre:n,notas:[]}),this.notasService.guardarCategorias(this.categorias),this.nuevaCategoria=""}editarCategoria(n){var a=this;return(0,u.A)(function*(){const i=a.categorias[n];var d;"Sin Categor\xeda"!==i.nombre?yield(yield a.alertController.create({header:"Editar Categor\xeda",inputs:[{name:"nuevoNombre",type:"text",placeholder:"Nuevo nombre",value:i.nombre}],buttons:[{text:"Cancelar",role:"cancel"},{text:"Guardar",handler:(d=(0,u.A)(function*(b){const m=b.nuevoNombre.trim();m?(a.categorias[n].nombre=m,a.notasService.guardarCategorias(a.categorias)):yield(yield a.alertController.create({header:"Nombre vac\xedo",message:"El nombre de la categor\xeda no puede estar vac\xedo.",buttons:["Aceptar"]})).present()}),function(m){return d.apply(this,arguments)})}]})).present():yield(yield a.alertController.create({header:"Acci\xf3n no permitida",message:'La categor\xeda "Sin Categor\xeda" es predeterminada y no se puede editar.',buttons:["Entendido"]})).present()})()}eliminarCategoria(n){var a=this;return(0,u.A)(function*(){const i=a.categorias[n];"Sin Categor\xeda"!==i.nombre?yield(yield a.alertController.create({header:"Eliminar Categor\xeda",message:`\xbfSeguro que deseas eliminar ${i.nombre} y todas sus notas?`,buttons:[{text:"Cancelar",role:"cancel"},{text:"Eliminar",handler:()=>{a.categorias.splice(n,1),a.notasService.guardarCategorias(a.categorias)}}]})).present():yield(yield a.alertController.create({header:"Acci\xf3n no permitida",message:'La categor\xeda "Sin Categor\xeda" es predeterminada y no se puede eliminar.',buttons:["Entendido"]})).present()})()}}return(t=g).\u0275fac=function(n){return new(n||t)(e.rXU(o.hG),e.rXU(y.B))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-category-manager"]],standalone:!1,decls:11,vars:2,consts:[[1,"ion-padding"],[4,"ngFor","ngForOf"],["placeholder","\u270f\ufe0f Nombre de la categor\xeda",3,"ngModelChange","ngModel"],[3,"click"],["slot","end"],["fill","clear",3,"click"],["slot","icon-only","name","create-outline",2,"color","#4caf50"],["slot","icon-only","name","trash-outline",2,"color","#f44336"]],template:function(n,a){1&n&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e.EFF(3,"Administrar Categor\xedas"),e.k0s()()(),e.j41(4,"ion-content",0)(5,"ion-list"),e.DNE(6,M,8,1,"ion-item",1),e.k0s(),e.j41(7,"ion-item")(8,"ion-input",2),e.mxI("ngModelChange",function(l){return e.DH7(a.nuevaCategoria,l)||(a.nuevaCategoria=l),l}),e.k0s(),e.j41(9,"ion-button",3),e.bIt("click",function(){return a.crearCategoria()}),e.EFF(10,"A\xf1adir"),e.k0s()()()),2&n&&(e.R7$(6),e.Y8G("ngForOf",a.categorias),e.R7$(2),e.R50("ngModel",a.nuevaCategoria))},dependencies:[f.Sq,s.BC,s.vS,o.Jm,o.QW,o.W9,o.eU,o.iq,o.$w,o.uz,o.he,o.nf,o.BC,o.ai,o.Gw],styles:["ion-content[_ngcontent-%COMP%]{--background: #121212;color:#fff}ion-toolbar[_ngcontent-%COMP%]{--background: #1f1f1f;--color: #ffffff;font-weight:700}ion-item[_ngcontent-%COMP%]{--background: #1b1b1b;--color: #ffffff;--border-radius: 12px;margin:8px 0;padding:8px}ion-input[_ngcontent-%COMP%]{--background: transparent;--color: #ffffff;font-size:16px}ion-button[_ngcontent-%COMP%]{--border-radius: 10px}ion-button[color=danger][_ngcontent-%COMP%]{--background: #e53935}ion-button[color=danger][_ngcontent-%COMP%]:hover{--background: #c62828}ion-icon[_ngcontent-%COMP%]{color:#ccc;font-size:20px}ion-list[_ngcontent-%COMP%]{margin-bottom:20px;background:#1f1f1f}ion-item[_ngcontent-%COMP%]:last-child{--background: #252525;border-radius:10px;margin-top:16px;padding:10px;display:flex;align-items:center;gap:12px}"]}),g})()}];let v=(()=>{var t;class g{}return(t=g).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[p.iI.forChild(h),p.iI]}),g})(),P=(()=>{var t;class g{}return(t=g).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[f.MD,s.YN,o.bv,v]}),g})()}}]);