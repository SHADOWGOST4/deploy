"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6143],{6143:(T,m,s)=>{s.r(m),s.d(m,{NotePageModule:()=>_});var u=s(8434),g=s(4341),i=s(2910),h=s(33),f=s(467),t=s(1360),C=s(3656),N=s(2276),M=s(5079);function P(e,c){if(1&e&&(t.j41(0,"ion-item")(1,"ion-label",7),t.EFF(2),t.nI1(3,"date"),t.nI1(4,"date"),t.k0s()()),2&e){const l=t.XpG();t.R7$(2),t.Lme(" Creada el ",t.i5U(3,2,l.notaFecha,"mediumDate")," a las ",t.i5U(4,5,l.notaFecha,"shortTime")," ")}}function b(e,c){if(1&e){const l=t.RV6();t.j41(0,"ion-button",8),t.bIt("click",function(){t.eBV(l);const n=t.XpG();return t.Njj(n.confirmarEliminacion())}),t.nrm(1,"ion-icon",9),t.EFF(2," Eliminar Nota "),t.k0s()}}let d=(()=>{var e;class c{constructor(o,n,a,r){this.alertController=o,this.route=n,this.navCtrl=a,this.notasService=r,this.notaTexto="",this.notaTitulo="",this.notaFecha="",this.categoriaNombre="",this.notaIndex=null,this.notaExistente=!1}ngOnInit(){this.categoriaNombre=this.route.snapshot.paramMap.get("categoria")||"Sin Categor\xeda";const o=this.route.snapshot.paramMap.get("index");if(null!==o){this.notaIndex=+o,this.notaExistente=!0;const n=this.notasService.getCategorias().find(a=>a.nombre===this.categoriaNombre);if(n&&void 0!==n.notas[this.notaIndex]){const a=n.notas[this.notaIndex];this.notaTexto=a.contenido,this.notaTitulo=a.titulo,this.notaFecha=a.fecha}}else this.notaExistente=!1}guardarNota(){var o=this;return(0,f.A)(function*(){if(!o.notaTitulo.trim()||!o.notaTexto.trim())return void(yield(yield o.alertController.create({header:"Datos incompletos",message:"Debes ingresar un t\xedtulo y contenido para la nota.",buttons:["Aceptar"]})).present());const n=o.notasService.getCategorias(),a=n.find(p=>p.nombre===o.categoriaNombre);if(!a)return;const r={titulo:o.notaTitulo.trim(),contenido:o.notaTexto.trim(),fecha:o.notaExistente?o.notaFecha:(new Date).toISOString()};null!==o.notaIndex?a.notas[o.notaIndex]=r:a.notas.push(r),o.notasService.guardarCategorias(n),o.navCtrl.navigateBack("/tabs/notas")})()}cancelar(){this.navCtrl.navigateBack("/tabs/notas")}confirmarEliminacion(){var o=this;return(0,f.A)(function*(){yield(yield o.alertController.create({header:"Eliminar Nota",message:"\xbfEst\xe1s seguro de que deseas eliminar esta nota?",buttons:[{text:"Cancelar",role:"cancel"},{text:"Eliminar",role:"destructive",handler:()=>o.eliminarNota()}]})).present()})()}eliminarNota(){const o=this.notasService.getCategorias(),n=o.find(a=>a.nombre===this.categoriaNombre);n&&null!==this.notaIndex&&(n.notas.splice(this.notaIndex,1),this.notasService.guardarCategorias(o)),this.navCtrl.navigateBack("/tabs/notas")}}return(e=c).\u0275fac=function(o){return new(o||e)(t.rXU(i.hG),t.rXU(N.nX),t.rXU(C.q9),t.rXU(M.B))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-note"]],standalone:!1,decls:15,vars:5,consts:[[1,"ion-padding"],["placeholder","T\xedtulo de la nota","required","","clearInput","",3,"ngModelChange","ngModel"],[4,"ngIf"],["placeholder","Escribe tu nota aqu\xed...","autoGrow","true","rows","5",3,"ngModelChange","ngModel"],["mode","md","expand","block","color","primary",3,"click"],["mode","md","expand","block","color","medium",3,"click"],["mode","md","expand","block","color","danger",3,"click",4,"ngIf"],["color","medium"],["mode","md","expand","block","color","danger",3,"click"],["slot","start","name","trash"]],template:function(o,n){1&o&&(t.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t.EFF(3),t.k0s()()(),t.j41(4,"ion-content",0)(5,"ion-item")(6,"ion-input",1),t.mxI("ngModelChange",function(r){return t.DH7(n.notaTitulo,r)||(n.notaTitulo=r),r}),t.k0s()(),t.DNE(7,P,5,8,"ion-item",2),t.j41(8,"ion-item")(9,"ion-textarea",3),t.mxI("ngModelChange",function(r){return t.DH7(n.notaTexto,r)||(n.notaTexto=r),r}),t.k0s()(),t.j41(10,"ion-button",4),t.bIt("click",function(){return n.guardarNota()}),t.EFF(11,"Guardar Nota"),t.k0s(),t.j41(12,"ion-button",5),t.bIt("click",function(){return n.cancelar()}),t.EFF(13,"Cancelar"),t.k0s(),t.DNE(14,b,3,0,"ion-button",6),t.k0s()),2&o&&(t.R7$(3),t.JRh(null!==n.notaIndex?"Editar Nota":"Nueva Nota"),t.R7$(3),t.R50("ngModel",n.notaTitulo),t.R7$(),t.Y8G("ngIf",n.notaExistente),t.R7$(2),t.R50("ngModel",n.notaTexto),t.R7$(5),t.Y8G("ngIf",n.notaExistente))},dependencies:[u.bT,g.BC,g.YS,g.vS,i.Jm,i.W9,i.eU,i.iq,i.$w,i.uz,i.he,i.nc,i.BC,i.ai,i.Gw,u.vh],styles:["[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: #121212;color:#e0e0e0}[_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: #1e1e1e;--color: #e0e0e0;--border-color: #333;border-radius:12px;margin-bottom:12px}[_nghost-%COMP%]   ion-input[_ngcontent-%COMP%], [_nghost-%COMP%]   ion-textarea[_ngcontent-%COMP%]{color:#fff}[_nghost-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:10px;border-radius:12px;font-weight:500}[_nghost-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:14px;color:#aaa}[_nghost-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: #1e1e1e;--color: #ffffff}[_nghost-%COMP%]   ion-title[_ngcontent-%COMP%]{font-weight:700}[_nghost-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:8px}"]}),c})();const x=[{path:"",component:d},{path:":categoria",component:d},{path:":categoria/:index",component:d}];let v=(()=>{var e;class c{}return(e=c).\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[h.iI.forChild(x),h.iI]}),c})(),_=(()=>{var e;class c{}return(e=c).\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[u.MD,g.YN,i.bv,v]}),c})()}}]);