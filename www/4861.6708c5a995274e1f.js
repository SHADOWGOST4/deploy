"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4861],{4861:(k,m,s)=>{s.r(m),s.d(m,{NotesListPageModule:()=>_});var g=s(8434),l=s(4341),c=s(2910),u=s(33),f=s(467),t=s(1360),p=s(3656),h=s(5079);function C(e,i){if(1&e&&(t.j41(0,"ion-segment-button",10),t.EFF(1),t.k0s()),2&e){const n=i.$implicit;t.Y8G("value",n.nombre),t.R7$(),t.SpI(" ",n.nombre," ")}}function v(e,i){if(1&e){const n=t.RV6();t.j41(0,"div",13),t.bIt("click",function(){const o=t.eBV(n).index,r=t.XpG(2);return t.Njj(r.editarNota(o))}),t.j41(1,"h3"),t.EFF(2),t.k0s(),t.j41(3,"p",14),t.EFF(4),t.k0s(),t.j41(5,"span",15),t.EFF(6),t.nI1(7,"date"),t.k0s()()}if(2&e){const n=i.$implicit;t.R7$(2),t.JRh(n.titulo),t.R7$(2),t.JRh(n.contenido),t.R7$(2),t.JRh(t.i5U(7,3,n.fecha,"shortDate"))}}function b(e,i){if(1&e&&(t.j41(0,"div",11),t.DNE(1,v,8,6,"div",12),t.k0s()),2&e){const n=t.XpG();t.R7$(),t.Y8G("ngForOf",n.getNotasSeleccionadas())}}function N(e,i){1&e&&(t.j41(0,"ion-text",16)(1,"p"),t.EFF(2,"No hay notas en esta categor\xeda."),t.k0s()())}const P=[{path:"",component:(()=>{var e;class i{constructor(a,o,r){this.navCtrl=a,this.alertCtrl=o,this.notasService=r,this.categorias=[],this.categoriaSeleccionada=""}ngOnInit(){this.notasService.categorias$.subscribe(a=>{var o;this.categorias=a,this.categorias.find(r=>r.nombre===this.categoriaSeleccionada)||(this.categoriaSeleccionada=(null===(o=this.categorias[0])||void 0===o?void 0:o.nombre)||"")})}cargarCategorias(){const a=localStorage.getItem("misCategorias");var o;a?(this.categorias=JSON.parse(a),this.categorias.find(r=>r.nombre===this.categoriaSeleccionada)||(this.categoriaSeleccionada=(null===(o=this.categorias[0])||void 0===o?void 0:o.nombre)||"")):(this.categorias=[{nombre:"Sin Categor\xeda",notas:[]}],this.categoriaSeleccionada="Sin Categor\xeda",this.guardarCategorias())}guardarCategorias(){localStorage.setItem("misCategorias",JSON.stringify(this.categorias))}crearCategoria(){var a=this;return(0,f.A)(function*(){yield(yield a.alertCtrl.create({header:"Nueva Categor\xeda",inputs:[{name:"nombre",type:"text",placeholder:"Nombre de la categor\xeda"}],buttons:[{text:"Cancelar",role:"cancel"},{text:"Crear",handler:r=>{r.nombre.trim()&&(a.categorias.push({nombre:r.nombre.trim(),notas:[]}),a.guardarCategorias(),a.categoriaSeleccionada=r.nombre.trim())}}]})).present()})()}irACrearNota(){this.navCtrl.navigateForward(["/note",this.categoriaSeleccionada])}getNotasSeleccionadas(){const a=this.categorias.find(o=>o.nombre===this.categoriaSeleccionada);return a?a.notas:[]}editarNota(a){this.navCtrl.navigateForward(["/note",this.categoriaSeleccionada,a])}irACategoryManager(){this.navCtrl.navigateForward("/category-manager")}}return(e=i).\u0275fac=function(a){return new(a||e)(t.rXU(p.q9),t.rXU(c.hG),t.rXU(h.B))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-notes-list"]],standalone:!1,decls:11,vars:5,consts:[[1,"ion-padding","dark-content"],[1,"categoria-header"],["fill","clear","size","small",3,"click"],["name","settings-outline"],["mode","md",1,"dark-segment",3,"ngModelChange","scrollable","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","notas-grid",4,"ngIf"],["class","empty-text",4,"ngIf"],["expand","block",1,"add-note-button",3,"click"],["slot","start","name","add-circle-outline"],[3,"value"],[1,"notas-grid"],["class","nota-card",3,"click",4,"ngFor","ngForOf"],[1,"nota-card",3,"click"],[1,"nota-contenido"],[1,"nota-fecha"],[1,"empty-text"]],template:function(a,o){1&a&&(t.j41(0,"ion-content",0)(1,"div",1)(2,"ion-button",2),t.bIt("click",function(){return o.irACategoryManager()}),t.nrm(3,"ion-icon",3),t.k0s(),t.j41(4,"ion-segment",4),t.mxI("ngModelChange",function(d){return t.DH7(o.categoriaSeleccionada,d)||(o.categoriaSeleccionada=d),d}),t.DNE(5,C,2,2,"ion-segment-button",5),t.k0s()(),t.DNE(6,b,2,1,"div",6)(7,N,3,0,"ion-text",7),t.j41(8,"ion-button",8),t.bIt("click",function(){return o.irACrearNota()}),t.nrm(9,"ion-icon",9),t.EFF(10," A\xf1adir Nota "),t.k0s()()),2&a&&(t.R7$(4),t.Y8G("scrollable",!0),t.R50("ngModel",o.categoriaSeleccionada),t.R7$(),t.Y8G("ngForOf",o.categorias),t.R7$(),t.Y8G("ngIf",o.getNotasSeleccionadas().length>0),t.R7$(),t.Y8G("ngIf",0===o.getNotasSeleccionadas().length))},dependencies:[g.Sq,g.bT,l.BC,l.vS,c.Jm,c.W9,c.iq,c.Gp,c.eP,c.IO,c.Je,g.vh],styles:[".dark-toolbar[_ngcontent-%COMP%]{--background: #1e1e1e;--color: #e0e0e0}.dark-content[_ngcontent-%COMP%]{--background: #121212}.categoria-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:1rem}.dark-segment[_ngcontent-%COMP%]{--background: #1e1e1e;--color: #cccccc;--indicator-color: #4caf50;--color-checked: #ffffff;border-radius:12px;margin:10px 0}.dark-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]{--background-checked: #333333;--color-checked: #ffffff;--color: #aaaaaa;font-weight:500;border-radius:8px}.notas-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:16px}.nota-card[_ngcontent-%COMP%]{background:#1e1e1e;border-radius:12px;padding:12px;box-shadow:0 2px 6px #0000004d;color:#e0e0e0;transition:transform .2s ease;cursor:pointer}.nota-card[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.nota-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:16px;font-weight:700}.nota-contenido[_ngcontent-%COMP%]{font-size:14px;color:#ccc;max-height:4.5em;overflow:hidden;text-overflow:ellipsis}.nota-fecha[_ngcontent-%COMP%]{font-size:12px;color:#888;display:block;margin-top:8px;text-align:right}.empty-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#a0a0a0;text-align:center;margin-top:2rem}.add-note-button[_ngcontent-%COMP%]{--background: #4FC3F7;--color: #121212;border-radius:20px;margin-top:2rem}"]}),i})()}];let M=(()=>{var e;class i{}return(e=i).\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[u.iI.forChild(P),u.iI]}),i})(),_=(()=>{var e;class i{}return(e=i).\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[g.MD,l.YN,c.bv,M]}),i})()}}]);